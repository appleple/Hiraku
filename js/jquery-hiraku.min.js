/**
 * Modules in this bundle
 * @license
 *
 * hiraku:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: appleple
 *   version: 1.0.10
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
!function(){function e(t,n,i){function s(a,r){if(!n[a]){if(!t[a]){var d="function"==typeof require&&require;if(!r&&d)return d(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return s(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)s(i[a]);return s}return e}()({1:[function(e,t,n){"use strict";var i=e("../index"),s=function(e){e.fn.hiraku=function(e){return"strings"==typeof e||new i(this,e),this}};if("function"==typeof define&&define.amd)define(["jquery"],s);else{var o=window.jQuery?window.jQuery:window.$;void 0!==o&&s(o)}t.exports=s},{"../index":3}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("../lib"),a={direction:"right",breakpoint:-1,btn:".js-hiraku-offcanvas-btn",btnLabel:"Menu",closeLabel:"Close",fixedHeader:".js-hiraku-fixed-header",focusableElements:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"},r=function(){function e(t,n){var s=this;i(this,e),this.body=document.querySelector("body"),this.opt=Object.assign({},a,n),this.side=document.querySelector(t),this.btn=document.querySelector(n.btn),this.fixed=document.querySelector(n.fixedHeader),this.windowWidth=0,this.id=(0,o.getUniqId)(),this.opened=!1,this.scrollAmount=0,this.oldPosY=0,this.vy=0,window.addEventListener("resize",function(){"requestAnimationFrame"in window?(cancelAnimationFrame(s.animationFrameId),s.animationFrameId=requestAnimationFrame(function(){s.resizeHandler()})):s.resizeHandler()}),window.addEventListener("touchstart",function(e){s._onTouchStart(e)}),window.addEventListener("touchmove",function(e){s._onTouchMove(e)}),window.addEventListener("touchend",function(e){s._onTouchEnd(e)}),this._setHirakuSideMenu(this.side,this.id),this._setHirakuBtn(this.btn,this.id),this._setHirakuBody(this.body),this.resizeHandler()}return s(e,[{key:"_onTouchStart",value:function(e){this.vy=0,this.side.style.height="auto",this.oldPosY=this._getTouchPos(e).y}},{key:"_onTouchMove",value:function(e){if(!1!==this.opened){e.preventDefault();var t=this._getTouchPos(e).y,n=t-this.oldPosY,i=this.side.offsetHeight-(0,o.getWindowHeight)();this.scrollAmount+=n,this.scrollAmount<-i&&(this.scrollAmount=-i),this.scrollAmount>0&&(this.scrollAmount=0),this.side.style.marginTop=this.scrollAmount+"px",this.oldPosY=t,this.vy=n}}},{key:"_onTouchEnd",value:function(e){var t=this,n=this.side.offsetHeight-(0,o.getWindowHeight)(),i=setInterval(function(){t.vy>0&&(t.vy-=.3),t.vy<0&&(t.vy+=.3),Math.abs(t.vy)<.3&&clearInterval(i),t.scrollAmount+=t.vy,t.scrollAmount<-n&&(clearInterval(i),t.scrollAmount=-n),t.scrollAmount>0&&(clearInterval(i),t.scrollAmount=0),t.side.style.marginTop=t.scrollAmount+"px"},10)}},{key:"_setHirakuSideMenu",value:function(e,t){var n=this,i=this.opt,s=i.closeLabel,a=i.direction;(0,o.after)(e,'<div class="js-hiraku-offcanvas"></div>'),"right"===a?(0,o.addClass)(e,"js-hiraku-offcanvas-sidebar-right"):(0,o.addClass)(e,"js-hiraku-offcanvas-sidebar-left"),e.setAttribute("aria-hidden",!0),e.setAttribute("aria-labelledby","hiraku-offcanvas-btn-"+t),e.setAttribute("id",t),e.setAttribute("aria-label",s),this.parent=e.nextElementSibling,parent.addEventListener("click",function(e){n.offcanvasClickHandler(e)}),parent.addEventListener("touchstart",function(e){n.offcanvasClickHandler(e)}),parent.addEventListener("keyup",function(e){n.offcanvasClickHandler(e)})}},{key:"_setHirakuBtn",value:function(e,t){var n=this,i=this.opt.btnLabel;(0,o.addClass)(e,"js-hiraku-offcanvas-btn"),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-label",i),e.setAttribute("aria-controls",t),e.setAttribute("id","hiraku-offcanvas-btn-"+t),e.addEventListener("click",function(){n.open()})}},{key:"_setHirakuBody",value:function(e){this.opt.direction;(0,o.addClass)(e,"js-hiraku-offcanvas-body")}},{key:"open",value:function(){var e=this.side,t=this.btn,n=this.fixed,i=this.parent,s=this.body,a=this.opt,r=a.direction,d=a.focusableElements,u=e.querySelectorAll(d),c=u[0],l=u[u.length-1],h=function(e){9===e.which&&e.shiftKey&&l.focus()},f=function(e){9!==e.which||e.shiftKey||c.focus()};this.opened=!0,c.removeEventListener("keydown",h),c.addEventListener("keydown",h),l.removeEventListener("keydown",f),l.addEventListener("keydown",f),t.setAttribute("aria-expanded",!0),(0,o.addClass)(t,"js-hiraku-offcanvas-btn-active"),i.setAttribute("aria-hidden",!1),"right"===r?(0,o.addClass)(s,"js-hiraku-offcanvas-body-right"):(0,o.addClass)(s,"js-hiraku-offcanvas-body-left"),n&&(n.style.transform="translateY("+(0,o.getScrollTop)()+"px)"),this.scrollAmount=0,e.style.height=window.innerHeight+"px",e.style.transform="translateX(100%) translateY("+(0,o.getScrollTop)()+"px)",e.style.marginTop="0px"}},{key:"close",value:function(){var e=this,t=this.body,n=this.fixed,i=this.btn,s=this.side,a=this.opt.direction,r=function s(){n.style.transform="translateY(0px)",t.removeEventListener("webkitTransitionEnd",s),t.removeEventListener("transitionend",s),i.setAttribute("aria-expanded",!1),(0,o.removeClass)(i,"js-hiraku-offcanvas-btn-active"),e.opened=!1};"right"===a?(0,o.removeClass)(t,"js-hiraku-offcanvas-body-right"):(0,o.removeClass)(t,"js-hiraku-offcanvas-body-left"),t.addEventListener("webkitTransitionEnd",r),t.addEventListener("transitionend",r),s.style.transform="",s.setAttribute("aria-hidden",!1)}},{key:"offcanvasClickHandler",value:function(e){var t=this.parent;"keyup"===e.type&&27!==e.keyCode||e.target===t&&this.close()}},{key:"_isTouched",value:function(e){return!(!e||!e.touches)}},{key:"_getTouchPos",value:function(e){var t=0,n=0;return e="undefined"==typeof event?e:event,this._isTouched(e)?(t=e.touches[0].pageX,n=e.touches[0].pageY):e.pageX&&(t=e.pageX,n=e.pageY),{x:t,y:n}}},{key:"resizeHandler",value:function(){var e=(0,o.getWindowWidth)(),t=this.body,n=this.side,i=this.opt,s=i.breakpoint;e!==this.windowWidth&&(this.windowWidth=e,(0,o.hasClass)(n,"js-hiraku-offcanvas-open")&&(1===s||s>=e)||(-1===s||s>=e?((0,o.addClass)(t,"js-hiraku-offcanvas-body-active"),n.setAttribute("aria-hidden",!0)):((0,o.removeClass)(t,"js-hiraku-offcanvas-body-active"),this.close())))}}]),e}();n.default=r,t.exports=n.default},{"../lib":4}],3:[function(e,t,n){"use strict";t.exports=e("./core/")},{"./core/":2}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},n.getWindowWidth=function(){return document&&document.documentElement?document.documentElement.clientWidth:window&&window.innerWidth?window.innerWidth:0},n.getWindowHeight=function(){return document&&document.documentElement?document.documentElement.clientHeight:window&&window.innerHeight?window.innerHeight:0},n.hasClass=function(e,t){e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},n.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},n.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},n.getScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},n.wrap=function(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)},n.after=function(e,t){e.insertAdjacentHTML("afterend",t)}},{}]},{},[1]);